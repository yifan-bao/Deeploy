diff --git a/Cargo.toml b/Cargo.toml
index 0060424..70aa900 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -21,7 +21,7 @@ csv = "1.0.0-beta.2"
 elf = "0.0.10"
 flexfloat = { path = "flexfloat" }
 itertools = "0.9"
-llvm-sys = "120"
+llvm-sys = "150"
 log = { version = "0.4", features = ["release_max_level_info"] }
 pest = "2.1.3"
 pest_derive = "2.1.0"
diff --git a/src/engine.rs b/src/engine.rs
index 08b7f19..14814e7 100644
--- a/src/engine.rs
+++ b/src/engine.rs
@@ -281,7 +281,6 @@ impl Engine {
 
             LLVMPassManagerBuilderPopulateFunctionPassManager(builder, func_passes);
             LLVMAddAnalysisPasses(tm, module_passes);
-            LLVMPassManagerBuilderPopulateLTOPassManager(builder, module_passes, 0, 1);
             LLVMPassManagerBuilderPopulateModulePassManager(builder, module_passes);
 
             // Create and run the function pass manager.
